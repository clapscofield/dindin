{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/clarissescofield/Desktop/2020.2/ES/studyWar/front/src/features/cadastroAluno/views/CadastroAluno.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Form, Input, Container, Row, Col, FormGroup, Label, UncontrolledAlert, Alert } from \"reactstrap\";\nimport Datetime from \"react-datetime\";\nimport Footer from \"components/Footer/Footer.js\";\nimport { connect } from \"react-redux\";\nimport CadastroAlunoManager from \"../CadastroAlunoManager\";\nimport { setMessage } from \"../../../redux/actionCreators\";\nimport { clearMessage } from \"../../../redux/actionCreators\";\n\nconst CadastroAluno = props => {\n  _s();\n\n  const {\n    equipes,\n    idGuerra,\n    idInstituicao,\n    message,\n    setMessageRedux,\n    clearMessageRedux\n  } = props;\n  const [botaoHabilitado, setBotaoHabilitado] = useState(true);\n  const [botaoHabilitadoDashboard, setBotaoHabilitadoDashboard] = useState(false);\n  const [nome, setNome] = useState(null);\n  const [matricula, setMatricula] = useState(null);\n  const [dataNascimento, setDataNascimento] = useState(null);\n  const [turma, setTurma] = useState(null);\n  const [email, setEmail] = useState();\n  const [senha, setSenha] = useState(null);\n  const [equipe, setEquipe] = useState(\"Clacla\");\n  const [sucesso, setSucesso] = useState(false);\n  const [alertaAberto, setAlertaAberto] = useState(false);\n  useEffect(() => {\n    setBotaoHabilitado(nome && matricula && dataNascimento && turma && email && senha);\n  }, [setBotaoHabilitado, nome, matricula, dataNascimento, turma, email, senha]);\n  useEffect(() => {\n    setAlertaAberto(message && message.message);\n  }, [message]);\n\n  const cadastrarAluno = async () => {\n    let mensagem = \"\";\n    const aluno = {\n      nome: nome,\n      dataNascimento: dataNascimento,\n      turma: turma,\n      matricula: matricula,\n      email: email,\n      senha: senha,\n      horasEstudadas: 0,\n      idEquipe: equipe,\n      idGuerra: idGuerra,\n      idInstituicao: idInstituicao\n    };\n    await CadastroAlunoManager.criarAluno(aluno).then(async response => {\n      atualizarEquipe();\n      setBotaoHabilitadoDashboard(true);\n      setSucesso(true);\n      limparEstados();\n      mensagem = response && response.status;\n    }, async error => {\n      const erro = error.response && error.response.data && error.response.data.status || error.status || error.toString();\n      setSucesso(false);\n      mensagem = erro;\n    });\n    await setMessageRedux(mensagem);\n  };\n\n  const limparEstados = () => {\n    setNome(null);\n    setDataNascimento(null);\n    setEmail(null);\n    setMatricula(null);\n    setSenha(null);\n    setTurma(null);\n    setEquipe(null);\n    document.getElementById(\"cadastro-aluno-form\").reset();\n  };\n\n  const atualizarEquipe = async () => {\n    const idEquipe = equipe;\n    const idAluno = matricula;\n    const resultado = await CadastroAlunoManager.atualizarEquipeAluno(idEquipe, idAluno);\n    return resultado;\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-header-image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: /*#__PURE__*/_jsxDEV(Container, {\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"title\",\n                  children: \"Cadastrar Novo Estudante\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form, {\n                  className: \"form\",\n                  id: \"cadastro-aluno-form\",\n                  children: [/*#__PURE__*/_jsxDEV(Row, {\n                    children: /*#__PURE__*/_jsxDEV(Col, {\n                      children: /*#__PURE__*/_jsxDEV(Input, {\n                        value: nome,\n                        placeholder: \"Nome completo\",\n                        type: \"text\",\n                        onChange: e => setNome(e.target.value),\n                        className: \"mb-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 136,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 135,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 134,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Row, {\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      className: \"mb-4\",\n                      children: /*#__PURE__*/_jsxDEV(Datetime, {\n                        value: dataNascimento,\n                        timeFormat: false,\n                        inputProps: {\n                          placeholder: \"Data de nascimento\"\n                        },\n                        dateFormat: \"DD/MM/YYYY\",\n                        onChange: e => setDataNascimento(e)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 147,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 146,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      children: /*#__PURE__*/_jsxDEV(Input, {\n                        value: turma,\n                        placeholder: \"Turma\",\n                        type: \"text\",\n                        onChange: e => setTurma(e.target.value),\n                        className: \"mb-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 156,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 155,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Row, {\n                    children: /*#__PURE__*/_jsxDEV(Col, {\n                      children: /*#__PURE__*/_jsxDEV(Input, {\n                        value: matricula,\n                        placeholder: \"Matr\\xEDcula\",\n                        type: \"text\",\n                        onChange: e => setMatricula(e.target.value),\n                        className: \"mb-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 167,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 166,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Row, {\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      children: /*#__PURE__*/_jsxDEV(Input, {\n                        value: email,\n                        placeholder: \"Email\",\n                        type: \"text\",\n                        onChange: e => setEmail(e.target.value),\n                        className: \"mb-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 178,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 177,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      children: /*#__PURE__*/_jsxDEV(Input, {\n                        value: senha,\n                        placeholder: \"Senha\",\n                        type: \"text\",\n                        onChange: e => setSenha(e.target.value),\n                        className: \"mb-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 187,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 186,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 176,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"title\",\n                  children: \" Selecionar Equipe \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form, {\n                  className: \"form\",\n                  children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      for: \"exampleSelect1\",\n                      children: \"Selecione a equipe\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 204,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Input, {\n                      value: equipe,\n                      type: \"select\",\n                      name: \"select\",\n                      onChange: e => {\n                        setEquipe(e.target.value);\n                      },\n                      children: equipes && equipes.map(eq => {\n                        return /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: eq,\n                          children: [\" \", eq, \" \"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 215,\n                          columnNumber: 36\n                        }, this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"btn-round\",\n                  color: \"primary\",\n                  size: \"lg\",\n                  disabled: !botaoHabilitado,\n                  onClick: () => cadastrarAluno(),\n                  children: \"Cadastrar aluno\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"btn-round\",\n                  color: \"success\",\n                  size: \"lg\",\n                  disabled: !botaoHabilitadoDashboard,\n                  href: \"/landing-inst\",\n                  onClick: async () => {\n                    await clearMessageRedux();\n                  },\n                  children: \"Ir para dashboard\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this), alertaAberto && /*#__PURE__*/_jsxDEV(Alert, {\n              color: sucesso ? \"success\" : \"danger\",\n              children: message && message.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"register-bg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(CadastroAluno, \"b49KhtojvxwOzDGAMs6VbqnHdZs=\");\n\n_c = CadastroAluno;\n\nconst mapStateToProps = state => {\n  return {\n    equipes: state.equipe && state.equipe.equipes.equipes,\n    idGuerra: state.idGuerra,\n    idInstituicao: state.auth && state.auth.user.usuario,\n    message: state.message\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  setMessageRedux: message => dispatch(setMessage(message)),\n  clearMessageRedux: () => dispatch(clearMessage())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CadastroAluno);\n\nvar _c;\n\n$RefreshReg$(_c, \"CadastroAluno\");","map":{"version":3,"sources":["/Users/clarissescofield/Desktop/2020.2/ES/studyWar/front/src/features/cadastroAluno/views/CadastroAluno.jsx"],"names":["React","useEffect","useState","Button","Form","Input","Container","Row","Col","FormGroup","Label","UncontrolledAlert","Alert","Datetime","Footer","connect","CadastroAlunoManager","setMessage","clearMessage","CadastroAluno","props","equipes","idGuerra","idInstituicao","message","setMessageRedux","clearMessageRedux","botaoHabilitado","setBotaoHabilitado","botaoHabilitadoDashboard","setBotaoHabilitadoDashboard","nome","setNome","matricula","setMatricula","dataNascimento","setDataNascimento","turma","setTurma","email","setEmail","senha","setSenha","equipe","setEquipe","sucesso","setSucesso","alertaAberto","setAlertaAberto","cadastrarAluno","mensagem","aluno","horasEstudadas","idEquipe","criarAluno","then","response","atualizarEquipe","limparEstados","status","error","erro","data","toString","document","getElementById","reset","idAluno","resultado","atualizarEquipeAluno","e","target","value","placeholder","map","eq","mapStateToProps","state","auth","user","usuario","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  Button,\n  Form,\n  Input,\n  Container,\n  Row,\n  Col,\n  FormGroup,\n  Label,\n  UncontrolledAlert,\n  Alert\n} from \"reactstrap\";\nimport Datetime from \"react-datetime\";\nimport Footer from \"components/Footer/Footer.js\";\nimport { connect } from \"react-redux\";\nimport CadastroAlunoManager from \"../CadastroAlunoManager\";\nimport { setMessage } from \"../../../redux/actionCreators\";\nimport { clearMessage } from \"../../../redux/actionCreators\";\n\nconst CadastroAluno = (props) => {\n  const {\n    equipes,\n    idGuerra,\n    idInstituicao,\n    message,\n    setMessageRedux,\n    clearMessageRedux\n  } = props;\n\n  const [botaoHabilitado, setBotaoHabilitado] = useState(true);\n  const [botaoHabilitadoDashboard, setBotaoHabilitadoDashboard] = useState(\n    false\n  );\n\n  const [nome, setNome] = useState(null);\n  const [matricula, setMatricula] = useState(null);\n  const [dataNascimento, setDataNascimento] = useState(null);\n  const [turma, setTurma] = useState(null);\n  const [email, setEmail] = useState();\n  const [senha, setSenha] = useState(null);\n  const [equipe, setEquipe] = useState(\"Clacla\");\n\n  const [sucesso, setSucesso] = useState(false);\n  const [alertaAberto, setAlertaAberto] = useState(false);\n\n  useEffect(() => {\n    setBotaoHabilitado(\n      nome && matricula && dataNascimento && turma && email && senha\n    );\n  }, [\n    setBotaoHabilitado,\n    nome,\n    matricula,\n    dataNascimento,\n    turma,\n    email,\n    senha\n  ]);\n\n  useEffect(() => {\n    setAlertaAberto(message && message.message);\n  }, [message]);\n\n  const cadastrarAluno = async () => {\n    let mensagem = \"\";\n    const aluno = {\n      nome: nome,\n      dataNascimento: dataNascimento,\n      turma: turma,\n      matricula: matricula,\n      email: email,\n      senha: senha,\n      horasEstudadas: 0,\n      idEquipe: equipe,\n      idGuerra: idGuerra,\n      idInstituicao: idInstituicao\n    };\n    await CadastroAlunoManager.criarAluno(aluno).then(\n      async (response) => {\n        atualizarEquipe();\n        setBotaoHabilitadoDashboard(true);\n        setSucesso(true);\n        limparEstados();\n        mensagem = response && response.status;\n      },\n      async (error) => {\n        const erro =\n          (error.response &&\n            error.response.data &&\n            error.response.data.status) ||\n          error.status ||\n          error.toString();\n        setSucesso(false);\n        mensagem = erro;\n      }\n    );\n    await setMessageRedux(mensagem);\n  };\n\n  const limparEstados = () => {\n    setNome(null);\n    setDataNascimento(null);\n    setEmail(null);\n    setMatricula(null);\n    setSenha(null);\n    setTurma(null);\n    setEquipe(null);\n    document.getElementById(\"cadastro-aluno-form\").reset();\n  };\n\n  const atualizarEquipe = async () => {\n    const idEquipe = equipe;\n    const idAluno = matricula;\n\n    const resultado = await CadastroAlunoManager.atualizarEquipeAluno(\n      idEquipe,\n      idAluno\n    );\n    return resultado;\n  };\n\n  return (\n    <>\n      <div className=\"wrapper\">\n        <div className=\"page-header\">\n          <div className=\"page-header-image\" />\n          <div className=\"content\">\n            <Container>\n              <Row>\n                <Col>\n                  <h1 className=\"title\">Cadastrar Novo Estudante</h1>\n                  <Form className=\"form\" id=\"cadastro-aluno-form\">\n                    <Row>\n                      <Col>\n                        <Input\n                          value={nome}\n                          placeholder=\"Nome completo\"\n                          type=\"text\"\n                          onChange={(e) => setNome(e.target.value)}\n                          className={\"mb-4\"}\n                        />\n                      </Col>\n                    </Row>\n                    <Row>\n                      <Col className={\"mb-4\"}>\n                        <Datetime\n                          value={dataNascimento}\n                          timeFormat={false}\n                          inputProps={{ placeholder: \"Data de nascimento\" }}\n                          dateFormat={\"DD/MM/YYYY\"}\n                          onChange={(e) => setDataNascimento(e)}\n                        />\n                      </Col>\n                      <Col>\n                        <Input\n                          value={turma}\n                          placeholder=\"Turma\"\n                          type=\"text\"\n                          onChange={(e) => setTurma(e.target.value)}\n                          className={\"mb-4\"}\n                        />\n                      </Col>\n                    </Row>\n                    <Row>\n                      <Col>\n                        <Input\n                          value={matricula}\n                          placeholder=\"Matrícula\"\n                          type=\"text\"\n                          onChange={(e) => setMatricula(e.target.value)}\n                          className={\"mb-4\"}\n                        />\n                      </Col>\n                    </Row>\n                    <Row>\n                      <Col>\n                        <Input\n                          value={email}\n                          placeholder=\"Email\"\n                          type=\"text\"\n                          onChange={(e) => setEmail(e.target.value)}\n                          className={\"mb-4\"}\n                        />\n                      </Col>\n                      <Col>\n                        <Input\n                          value={senha}\n                          placeholder=\"Senha\"\n                          type=\"text\"\n                          onChange={(e) => setSenha(e.target.value)}\n                          className={\"mb-4\"}\n                        />\n                      </Col>\n                    </Row>\n                  </Form>\n                </Col>\n              </Row>\n              <Row>\n                <Col>\n                  <h1 className=\"title\"> Selecionar Equipe </h1>\n                  <Form className=\"form\">\n                    <FormGroup>\n                      <Label for=\"exampleSelect1\">Selecione a equipe</Label>\n                      <Input\n                        value={equipe}\n                        type=\"select\"\n                        name=\"select\"\n                        onChange={(e) => {\n                          setEquipe(e.target.value);\n                        }}\n                      >\n                        {equipes &&\n                          equipes.map((eq) => {\n                            return <option value={eq}> {eq} </option>;\n                          })}\n                      </Input>\n                    </FormGroup>\n                  </Form>\n                </Col>\n              </Row>\n              <Row>\n                <Col>\n                  <Button\n                    className=\"btn-round\"\n                    color=\"primary\"\n                    size=\"lg\"\n                    disabled={!botaoHabilitado}\n                    onClick={() => cadastrarAluno()}\n                  >\n                    Cadastrar aluno\n                  </Button>\n                </Col>\n                <Col>\n                  <Button\n                    className=\"btn-round\"\n                    color=\"success\"\n                    size=\"lg\"\n                    disabled={!botaoHabilitadoDashboard}\n                    href=\"/landing-inst\"\n                    onClick={async () => {\n                      await clearMessageRedux();\n                    }}\n                  >\n                    Ir para dashboard\n                  </Button>\n                </Col>\n              </Row>\n              {alertaAberto && (\n                <Alert color={sucesso ? \"success\" : \"danger\"}>\n                  {message && message.message}\n                </Alert>\n              )}\n              <div className=\"register-bg\" />\n            </Container>\n          </div>\n        </div>\n        <Footer />\n      </div>\n    </>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    equipes: state.equipe && state.equipe.equipes.equipes,\n    idGuerra: state.idGuerra,\n    idInstituicao: state.auth && state.auth.user.usuario,\n    message: state.message\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  setMessageRedux: (message) => dispatch(setMessage(message)),\n  clearMessageRedux: () => dispatch(clearMessage())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CadastroAluno);\n"]},"metadata":{},"sourceType":"module"}