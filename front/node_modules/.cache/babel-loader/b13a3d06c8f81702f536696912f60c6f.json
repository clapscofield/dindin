{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/clarissescofield/Desktop/2020.2/ES/studyWar/front/src/features/cadastroAluno/views/CadastroAluno.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Form, Input, Container, Row, Col, FormGroup, Label, UncontrolledAlert, Alert } from \"reactstrap\";\nimport Datetime from \"react-datetime\";\nimport Footer from \"components/Footer/Footer.js\";\nimport { connect } from \"react-redux\";\nimport CadastroAlunoManager from \"../CadastroAlunoManager\";\nimport { setMessage } from \"../../../redux/actionCreators\";\nimport { clearMessage } from \"../../../redux/actionCreators\";\nimport { response } from \"express\";\n\nconst CadastroAluno = props => {\n  _s();\n\n  const {\n    equipes,\n    idGuerra,\n    idInstituicao,\n    message,\n    setMessageRedux,\n    clearMessageRedux\n  } = props;\n  const [botaoHabilitado, setBotaoHabilitado] = useState(true);\n  const [botaoHabilitadoDashboard, setBotaoHabilitadoDashboard] = useState(false);\n  const [nome, setNome] = useState(null);\n  const [matricula, setMatricula] = useState(null);\n  const [dataNascimento, setDataNascimento] = useState(null);\n  const [turma, setTurma] = useState(null);\n  const [email, setEmail] = useState();\n  const [senha, setSenha] = useState(null);\n  const [equipe, setEquipe] = useState(\"Clacla\");\n  const [sucesso, setSucesso] = useState(false);\n  useEffect(() => {\n    setBotaoHabilitado(nome && matricula && dataNascimento && turma && email && senha);\n  }, [setBotaoHabilitado, nome, matricula, dataNascimento, turma, email, senha]);\n\n  const cadastrarAluno = async () => {\n    let mensagem = \"\";\n    const aluno = {\n      nome: nome,\n      dataNascimento: dataNascimento,\n      turma: turma,\n      matricula: matricula,\n      email: email,\n      senha: senha,\n      horasEstudadas: 0,\n      idEquipe: equipe,\n      idGuerra: idGuerra,\n      idInstituicao: idInstituicao\n    };\n    await CadastroAlunoManager.criarAluno(aluno).then(async response => {\n      atualizarEquipe();\n      setBotaoHabilitadoDashboard(true);\n      setSucesso(true);\n      limparEstados();\n      mensagem = response && response.data.status;\n    }, async error => {\n      const erro = error.response && error.response.data && error.response.data.status || error.status || error.toString();\n      setSucesso(false);\n      mensagem = erro;\n    });\n    await setMessageRedux(mensagem);\n  };\n\n  const limparEstados = () => {\n    setNome(null);\n    setDataNascimento(null);\n    setEmail(null);\n    setMatricula(null);\n    setSenha(null);\n    setTurma(null);\n    setEquipe(null);\n    document.getElementById(\"cadastro-aluno-form\").reset();\n  };\n\n  const atualizarEquipe = async () => {\n    const idEquipe = equipe;\n    const idAluno = matricula;\n    const resultado = await CadastroAlunoManager.atualizarEquipeAluno(idEquipe, idAluno);\n    return resultado;\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-header-image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: /*#__PURE__*/_jsxDEV(Container, {\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"title\",\n                  children: \"Cadastrar Novo Estudante\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form, {\n                  className: \"form\",\n                  id: \"cadastro-aluno-form\",\n                  children: [/*#__PURE__*/_jsxDEV(Row, {\n                    children: /*#__PURE__*/_jsxDEV(Col, {\n                      children: /*#__PURE__*/_jsxDEV(Input, {\n                        value: nome,\n                        placeholder: \"Nome completo\",\n                        type: \"text\",\n                        onChange: e => setNome(e.target.value),\n                        className: \"mb-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 132,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 131,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 130,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Row, {\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      className: \"mb-4\",\n                      children: /*#__PURE__*/_jsxDEV(Datetime, {\n                        value: dataNascimento,\n                        timeFormat: false,\n                        inputProps: {\n                          placeholder: \"Data de nascimento\"\n                        },\n                        dateFormat: \"DD/MM/YYYY\",\n                        onChange: e => setDataNascimento(e)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 143,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 142,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      children: /*#__PURE__*/_jsxDEV(Input, {\n                        value: turma,\n                        placeholder: \"Turma\",\n                        type: \"text\",\n                        onChange: e => setTurma(e.target.value),\n                        className: \"mb-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 152,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 151,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 141,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Row, {\n                    children: /*#__PURE__*/_jsxDEV(Col, {\n                      children: /*#__PURE__*/_jsxDEV(Input, {\n                        value: matricula,\n                        placeholder: \"Matr\\xEDcula\",\n                        type: \"text\",\n                        onChange: e => setMatricula(e.target.value),\n                        className: \"mb-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 163,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 162,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Row, {\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      children: /*#__PURE__*/_jsxDEV(Input, {\n                        value: email,\n                        placeholder: \"Email\",\n                        type: \"text\",\n                        onChange: e => setEmail(e.target.value),\n                        className: \"mb-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 174,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 173,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      children: /*#__PURE__*/_jsxDEV(Input, {\n                        value: senha,\n                        placeholder: \"Senha\",\n                        type: \"text\",\n                        onChange: e => setSenha(e.target.value),\n                        className: \"mb-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 183,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 182,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"title\",\n                  children: \" Selecionar Equipe \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form, {\n                  className: \"form\",\n                  children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      for: \"exampleSelect1\",\n                      children: \"Selecione a equipe\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 200,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Input, {\n                      value: equipe,\n                      type: \"select\",\n                      name: \"select\",\n                      onChange: e => {\n                        setEquipe(e.target.value);\n                      },\n                      children: equipes && equipes.map(eq => {\n                        return /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: eq,\n                          children: [\" \", eq, \" \"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 211,\n                          columnNumber: 36\n                        }, this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 201,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"btn-round\",\n                  color: \"primary\",\n                  size: \"lg\",\n                  disabled: !botaoHabilitado,\n                  onClick: () => cadastrarAluno(),\n                  children: \"Cadastrar aluno\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"btn-round\",\n                  color: \"success\",\n                  size: \"lg\",\n                  disabled: !botaoHabilitadoDashboard,\n                  href: \"/landing-inst\",\n                  onClick: async () => {\n                    await clearMessageRedux();\n                  },\n                  children: \"Ir para dashboard\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this), message && message.message && /*#__PURE__*/_jsxDEV(UncontrolledAlert, {\n              color: sucesso ? \"success\" : \"danger\",\n              children: message.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"register-bg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(CadastroAluno, \"uxqXKkjQq84Sx9fPzLCZeTNUxEw=\");\n\n_c = CadastroAluno;\n\nconst mapStateToProps = state => {\n  return {\n    equipes: state.equipe && state.equipe.equipes.equipes,\n    idGuerra: state.idGuerra,\n    idInstituicao: state.auth && state.auth.user.usuario,\n    message: state.message\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  setMessageRedux: message => dispatch(setMessage(message)),\n  clearMessageRedux: () => dispatch(clearMessage())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CadastroAluno);\n\nvar _c;\n\n$RefreshReg$(_c, \"CadastroAluno\");","map":{"version":3,"sources":["/Users/clarissescofield/Desktop/2020.2/ES/studyWar/front/src/features/cadastroAluno/views/CadastroAluno.jsx"],"names":["React","useEffect","useState","Button","Form","Input","Container","Row","Col","FormGroup","Label","UncontrolledAlert","Alert","Datetime","Footer","connect","CadastroAlunoManager","setMessage","clearMessage","response","CadastroAluno","props","equipes","idGuerra","idInstituicao","message","setMessageRedux","clearMessageRedux","botaoHabilitado","setBotaoHabilitado","botaoHabilitadoDashboard","setBotaoHabilitadoDashboard","nome","setNome","matricula","setMatricula","dataNascimento","setDataNascimento","turma","setTurma","email","setEmail","senha","setSenha","equipe","setEquipe","sucesso","setSucesso","cadastrarAluno","mensagem","aluno","horasEstudadas","idEquipe","criarAluno","then","atualizarEquipe","limparEstados","data","status","error","erro","toString","document","getElementById","reset","idAluno","resultado","atualizarEquipeAluno","e","target","value","placeholder","map","eq","mapStateToProps","state","auth","user","usuario","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  Button,\n  Form,\n  Input,\n  Container,\n  Row,\n  Col,\n  FormGroup,\n  Label,\n  UncontrolledAlert,\n  Alert\n} from \"reactstrap\";\nimport Datetime from \"react-datetime\";\nimport Footer from \"components/Footer/Footer.js\";\nimport { connect } from \"react-redux\";\nimport CadastroAlunoManager from \"../CadastroAlunoManager\";\nimport { setMessage } from \"../../../redux/actionCreators\";\nimport { clearMessage } from \"../../../redux/actionCreators\";\nimport { response } from \"express\";\n\nconst CadastroAluno = (props) => {\n  const {\n    equipes,\n    idGuerra,\n    idInstituicao,\n    message,\n    setMessageRedux,\n    clearMessageRedux\n  } = props;\n\n  const [botaoHabilitado, setBotaoHabilitado] = useState(true);\n  const [botaoHabilitadoDashboard, setBotaoHabilitadoDashboard] = useState(\n    false\n  );\n\n  const [nome, setNome] = useState(null);\n  const [matricula, setMatricula] = useState(null);\n  const [dataNascimento, setDataNascimento] = useState(null);\n  const [turma, setTurma] = useState(null);\n  const [email, setEmail] = useState();\n  const [senha, setSenha] = useState(null);\n  const [equipe, setEquipe] = useState(\"Clacla\");\n\n  const [sucesso, setSucesso] = useState(false);\n\n  useEffect(() => {\n    setBotaoHabilitado(\n      nome && matricula && dataNascimento && turma && email && senha\n    );\n  }, [\n    setBotaoHabilitado,\n    nome,\n    matricula,\n    dataNascimento,\n    turma,\n    email,\n    senha\n  ]);\n\n  const cadastrarAluno = async () => {\n    let mensagem = \"\";\n    const aluno = {\n      nome: nome,\n      dataNascimento: dataNascimento,\n      turma: turma,\n      matricula: matricula,\n      email: email,\n      senha: senha,\n      horasEstudadas: 0,\n      idEquipe: equipe,\n      idGuerra: idGuerra,\n      idInstituicao: idInstituicao\n    };\n    await CadastroAlunoManager.criarAluno(aluno).then(\n      async (response) => {\n        atualizarEquipe();\n        setBotaoHabilitadoDashboard(true);\n        setSucesso(true);\n        limparEstados();\n        mensagem = response && response.data.status;\n      },\n      async (error) => {\n        const erro =\n          (error.response &&\n            error.response.data &&\n            error.response.data.status) ||\n          error.status ||\n          error.toString();\n        setSucesso(false);\n        mensagem = erro;\n      }\n    );\n    await setMessageRedux(mensagem);\n  };\n\n  const limparEstados = () => {\n    setNome(null);\n    setDataNascimento(null);\n    setEmail(null);\n    setMatricula(null);\n    setSenha(null);\n    setTurma(null);\n    setEquipe(null);\n    document.getElementById(\"cadastro-aluno-form\").reset();\n  };\n\n  const atualizarEquipe = async () => {\n    const idEquipe = equipe;\n    const idAluno = matricula;\n\n    const resultado = await CadastroAlunoManager.atualizarEquipeAluno(\n      idEquipe,\n      idAluno\n    );\n    return resultado;\n  };\n\n  return (\n    <>\n      <div className=\"wrapper\">\n        <div className=\"page-header\">\n          <div className=\"page-header-image\" />\n          <div className=\"content\">\n            <Container>\n              <Row>\n                <Col>\n                  <h1 className=\"title\">Cadastrar Novo Estudante</h1>\n                  <Form className=\"form\" id=\"cadastro-aluno-form\">\n                    <Row>\n                      <Col>\n                        <Input\n                          value={nome}\n                          placeholder=\"Nome completo\"\n                          type=\"text\"\n                          onChange={(e) => setNome(e.target.value)}\n                          className={\"mb-4\"}\n                        />\n                      </Col>\n                    </Row>\n                    <Row>\n                      <Col className={\"mb-4\"}>\n                        <Datetime\n                          value={dataNascimento}\n                          timeFormat={false}\n                          inputProps={{ placeholder: \"Data de nascimento\" }}\n                          dateFormat={\"DD/MM/YYYY\"}\n                          onChange={(e) => setDataNascimento(e)}\n                        />\n                      </Col>\n                      <Col>\n                        <Input\n                          value={turma}\n                          placeholder=\"Turma\"\n                          type=\"text\"\n                          onChange={(e) => setTurma(e.target.value)}\n                          className={\"mb-4\"}\n                        />\n                      </Col>\n                    </Row>\n                    <Row>\n                      <Col>\n                        <Input\n                          value={matricula}\n                          placeholder=\"MatrÃ­cula\"\n                          type=\"text\"\n                          onChange={(e) => setMatricula(e.target.value)}\n                          className={\"mb-4\"}\n                        />\n                      </Col>\n                    </Row>\n                    <Row>\n                      <Col>\n                        <Input\n                          value={email}\n                          placeholder=\"Email\"\n                          type=\"text\"\n                          onChange={(e) => setEmail(e.target.value)}\n                          className={\"mb-4\"}\n                        />\n                      </Col>\n                      <Col>\n                        <Input\n                          value={senha}\n                          placeholder=\"Senha\"\n                          type=\"text\"\n                          onChange={(e) => setSenha(e.target.value)}\n                          className={\"mb-4\"}\n                        />\n                      </Col>\n                    </Row>\n                  </Form>\n                </Col>\n              </Row>\n              <Row>\n                <Col>\n                  <h1 className=\"title\"> Selecionar Equipe </h1>\n                  <Form className=\"form\">\n                    <FormGroup>\n                      <Label for=\"exampleSelect1\">Selecione a equipe</Label>\n                      <Input\n                        value={equipe}\n                        type=\"select\"\n                        name=\"select\"\n                        onChange={(e) => {\n                          setEquipe(e.target.value);\n                        }}\n                      >\n                        {equipes &&\n                          equipes.map((eq) => {\n                            return <option value={eq}> {eq} </option>;\n                          })}\n                      </Input>\n                    </FormGroup>\n                  </Form>\n                </Col>\n              </Row>\n              <Row>\n                <Col>\n                  <Button\n                    className=\"btn-round\"\n                    color=\"primary\"\n                    size=\"lg\"\n                    disabled={!botaoHabilitado}\n                    onClick={() => cadastrarAluno()}\n                  >\n                    Cadastrar aluno\n                  </Button>\n                </Col>\n                <Col>\n                  <Button\n                    className=\"btn-round\"\n                    color=\"success\"\n                    size=\"lg\"\n                    disabled={!botaoHabilitadoDashboard}\n                    href=\"/landing-inst\"\n                    onClick={async () => {\n                      await clearMessageRedux();\n                    }}\n                  >\n                    Ir para dashboard\n                  </Button>\n                </Col>\n              </Row>\n              {message && message.message && (\n                <UncontrolledAlert color={sucesso ? \"success\" : \"danger\"}>\n                  {message.message}\n                </UncontrolledAlert>\n              )}\n              <div className=\"register-bg\" />\n            </Container>\n          </div>\n        </div>\n        <Footer />\n      </div>\n    </>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    equipes: state.equipe && state.equipe.equipes.equipes,\n    idGuerra: state.idGuerra,\n    idInstituicao: state.auth && state.auth.user.usuario,\n    message: state.message\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  setMessageRedux: (message) => dispatch(setMessage(message)),\n  clearMessageRedux: () => dispatch(clearMessage())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CadastroAluno);\n"]},"metadata":{},"sourceType":"module"}